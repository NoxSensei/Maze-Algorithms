"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4735],{24735:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n,l,s=r(57437),i=r(2265);let o=(0,i.createContext)({});var a=r(32466),u=r(97277);function c(e){return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.UL,{x:0,y:0,width:e.width,height:e.height,fill:e.color})})}function d(e){let t="black";return function(r,n,l,i){let o=.5*e.gridStrokeSize,u=(r-e.gridStrokeSize)/l,c=(n-e.gridStrokeSize)/i,d=[];for(let n=0;n<i+1;n++){let l=(0,s.jsx)(a.x1,{points:[0,o+n*c,r,o+n*c],stroke:t,strokeWidth:e.gridStrokeSize},"column".concat(n));d.push(l)}for(let r=0;r<l+1;r++){let l=(0,s.jsx)(a.x1,{points:[o+r*u,0,o+r*u,n],stroke:t,strokeWidth:e.gridStrokeSize},"row".concat(r));d.push(l)}return(0,s.jsx)(a.mh,{children:d})}(e.width,e.height,e.rowsCount,e.columnsCount)}var h=r(71235),f=r.n(h);class x{static getNodesAsKonvaShapes(e){let t=(e.canvasSize.width-e.gridStroke)/e.maze.rowsCount,r=(e.canvasSize.height-e.gridStroke)/e.maze.columnsCount,n=.5*e.gridStroke,l=.5*e.gridStroke,s=t-e.gridStroke,i=r-e.gridStroke,o=l+n+t*e.node.columnIndex,a=l+n+r*e.node.rowIndex,u=[],c=new(f()).Rect({x:o,y:a,width:s,height:i,fill:e.color});if(u.push(c),!e.node.isWallOnNorth){let t=new(f()).Line({points:[o,a-n,o+s,a-n],strokeWidth:e.gridStroke+2,stroke:e.color});u.push(t)}if(!e.node.isWallOnEast){let t=new(f()).Line({points:[o+s+n,a,o+s+n,a+i],strokeWidth:e.gridStroke+2,stroke:e.color});u.push(t)}if(!e.node.isWallOnSouth){let t=new(f()).Line({points:[o,a+i+n,o+s,a+i+n],strokeWidth:e.gridStroke+2,stroke:e.color});u.push(t)}if(!e.node.isWallOnWest){let t=new(f()).Line({points:[o-n,a,o-n,a+i],strokeWidth:e.gridStroke+2,stroke:e.color});u.push(t)}return u}}function g(e){let t="green",r=(0,i.useContext)(o),[n,h]=(0,i.useState)(),f=(0,i.useRef)(!0),g=(0,i.useRef)(null),p=(0,i.useRef)(null),S=function(){let e=(0,i.useContext)(o),t=(0,i.useRef)(l.Medium);return(0,i.useEffect)(()=>{t.current=e.drawing.speed},[e.drawing.speed]),t}(),m=function(e){let[t,r]=(0,i.useState)({width:0,height:0});return(0,i.useLayoutEffect)(()=>{if(!(null!==e.current))return;let t=e.current.offsetWidth,n=e.current.offsetHeight,l=t>n?n:t;r({width:l,height:l})},[e]),t}(g),j=r.grid.size,k=r.grid.size;function v(e,r){var n;let l=[];for(let n=0;n<r.rowsCount;n++)for(let s=0;s<r.columnsCount;s++){let i=r.grid[n][s],o=x.getNodesAsKonvaShapes({canvasSize:e,maze:r,node:i,gridStroke:2,color:t});l.push(...o)}null===(n=p.current)||void 0===n||n.removeChildren().add(...l).draw()}async function w(e,r){for(let s of r.history){var n;if(f.current)break;let i=x.getNodesAsKonvaShapes({canvasSize:e,maze:r,node:s,gridStroke:2,color:t});null===(n=p.current)||void 0===n||n.add(...i).draw();let o=function(){switch(S.current){case l.Slow:return 500;case l.Medium:return 200;case l.Fast:return 50}}();await u.J.sleep(o)}}function y(){return e.mazeAlgorithm.buildPath(r.grid.size,r.grid.size)}function C(){var e;null===(e=p.current)||void 0===e||e.removeChildren()}return(0,i.useEffect)(()=>{r.reloadButton.onClick=()=>{C();let e=y();v(m,e),h(e)},r.playButton.onClick=()=>{f.current=!f.current,!f.current&&n&&(C(),w(m,n).then(()=>{r.playButton.setIsSelected(!1),f.current=!0}))},r.forwardFastButton.onClick=()=>{n&&v(m,n)}},[n,m,r]),(0,i.useEffect)(()=>{r.playButton.setIsSelected(!1),f.current=!0,C(),h(y())},[r.grid.size]),(0,s.jsx)("div",{ref:g,className:"h-full flex justify-center",children:(0,s.jsxs)(a.Hf,{width:m.width,height:m.height,children:[(0,s.jsx)(c,{width:m.width,height:m.height,color:"gray"}),(0,s.jsx)(d,{width:m.width,height:m.height,rowsCount:j,columnsCount:k,gridStrokeSize:2}),(0,s.jsx)(a.mh,{ref:p})]})})}(n=l||(l={})).Slow="Slow",n.Medium="Medium",n.Fast="Fast";var p=r(6920),S=r(45079);function m(e){var t;let r=[];for(let t=e.minValue;t<e.maxValue;t+=e.stepValue)r.push(t);r.push(e.maxValue);let n=u.J.wrapWithDebounce(t=>e.valueSetter(t),null!==(t=e.debounceInMs)&&void 0!==t?t:100);return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"flex justify-center h-4",children:e.title}),(0,s.jsx)("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.stepValue,defaultValue:e.defaultValue,onChange:function(e){n(parseInt(e.target.value))}}),(0,s.jsx)("ul",{className:"flex justify-between",children:r.map(e=>(0,s.jsx)("li",{className:"flex flex-1 justify-center",children:e},e))})]})}function j(e){var t;let r=u.J.wrapWithDebounce(t=>e.valueSetter(t),null!==(t=e.debounceInMs)&&void 0!==t?t:100);return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"flex justify-center h-4",children:e.title}),(0,s.jsx)("input",{type:"range",className:"w-full",min:"1",max:e.values.length,step:"1",onChange:function(t){let n=parseInt(t.target.value);r(e.values[n])}}),(0,s.jsx)("ul",{className:"flex justify-between",children:e.values.map(e=>(0,s.jsx)("li",{className:"flex flex-1 justify-center",children:e},e))})]})}function k(){let[e,t]=(0,i.useState)(S.zc),r=(0,i.useContext)(o);return(0,i.useEffect)(()=>{r.playButton.isSelected?t(S.Bg$):t(S.zc)},[r.playButton.isSelected]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:function(e){r.playButton.onClick(e),r.playButton.setIsSelected(!r.playButton.isSelected)},children:(0,s.jsx)("div",{className:"border border-gray-200 hover:bg-gray-100 px-4 py-2",children:(0,s.jsx)(p.G,{icon:e})})})})}function v(){let e=(0,i.useContext)(o),t={color:"#a9a9a9",cursor:"not-allowed",opacity:.7};return(0,s.jsxs)("div",{className:"flex h-auto justify-center space-x-28",children:[(0,s.jsx)("div",{className:"space-y-2 p-2 w-80 h-24",children:(0,s.jsx)(m,{title:"Grid Size",stepValue:5,minValue:5,maxValue:50,defaultValue:e.grid.size,valueSetter:e.grid.setSize})}),(0,s.jsxs)("div",{className:"inline-flex justify-center items-center",children:[(0,s.jsx)("button",{onClick:t=>e.reloadButton.onClick(t),disabled:e.playButton.isSelected,children:(0,s.jsx)("div",{className:"border border-gray-200 rounded-s-lg hover:bg-gray-100 px-4 py-2",children:(0,s.jsx)(p.G,{icon:S.go9,style:e.playButton.isSelected?t:{}})})}),(0,s.jsx)(k,{}),(0,s.jsx)("button",{onClick:t=>e.forwardFastButton.onClick(t),disabled:e.playButton.isSelected,children:(0,s.jsx)("div",{className:"border border-gray-200 rounded-e-lg hover:bg-gray-100 px-4 py-2",children:(0,s.jsx)(p.G,{icon:S.cZy,style:e.playButton.isSelected?t:{}})})})]}),(0,s.jsx)("div",{className:"space-y-2 p-2 w-80 h-24",children:(0,s.jsx)(j,{title:"Drawing Speed",values:Object.values(l),valueSetter:e.drawing.setSpeed})})]})}function w(e){let[t,r]=(0,i.useState)(30),[n,a]=(0,i.useState)(l.Medium),[u,c]=(0,i.useState)(!1);return(0,s.jsx)(o.Provider,{value:{reloadButton:{onClick:()=>{}},playButton:{onClick:()=>{},isSelected:u,setIsSelected:c},forwardFastButton:{onClick:()=>{}},grid:{size:t,setSize:r},drawing:{speed:n,setSpeed:a}},children:(0,s.jsxs)("div",{className:"h-full text-black",children:[(0,s.jsx)(v,{}),(0,s.jsx)("div",{className:"h-5/6",children:(0,s.jsx)(g,{mazeAlgorithm:e.mazeAlgorithm})})]})})}}}]);